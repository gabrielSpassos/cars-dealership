var mongoose = require('mongoose');

var ConnectMongoDB = function(){
    console.log("TENTANDO CONECTAR AO MONGOOSE");
    mongoose.connect('mongodb://admin:admin@localhost:27017/gym', { useMongoClient: true });
    var mongodb = mongoose.connection;
    mongodb.on('error' , console.error.bind(console, 'Não conectou'));
    mongodb.once('open', function() {
        console.log('Connected');
    });

};

module.exports = function(){
    console.log("O autoload carregou o Modulo dbConnection");
    return ConnectMongoDB;
};

 //mongoose.connect("mongodb://localhost:27017/gym", { useMongoClient: true });

// var dbMongo = mongoose.connection;

// dbMongo.on('error', console.error.bind(console, 'Não foi possível se conectar no MongoDB!'));
// dbMongo.once('open', function () {
// 	console.log('Aplicação conectada no MongoDB');
// });

// var treino = mongoose.model('treino',
// 	new mongoose.Schema({
//         nomeTreino: { type: String },
//         exercicios: { type: Array }
//     }));
    
// var exercicio = mongoose.model('treino',
// 	new mongoose.Schema({
//         nomeExercicio: { type: String },
//         peso: { type: Number },
//         repeticoes: { type: Number },
//         series: {type: Number },
//         descanco: {type: String }
//     }));